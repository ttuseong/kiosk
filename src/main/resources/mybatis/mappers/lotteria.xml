<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="lotteria">

	<select id="categoryList" resultType="com.javaex.vo.LotteriaVo">
		<![CDATA[
			select categoryNo, categoryName from category where storeNo=2 order by categoryNo asc
		]]>
	</select>
	
	<select id="menuList" resultType="com.javaex.vo.LotteriaVo">
	<![CDATA[
		select menuNo, 
			   m.categoryNo categoryNo, 
			   menuName, 
			   menuDesc, 
			   menuPrice, 
			   menuImg, 
			   isSpecial 
		from menu m , 
			 category c  
		where m.categoryNo = c.categoryNo 
		and c.storeNo=2
	]]>
	</select>
		
	<select id="cateNo4setMenu" resultType="com.javaex.vo.LotteriaVo">
		<![CDATA[
			select setNo, 
				   categoryNo, 
				   setName, 
				   setPrice, 
				   setImg, 
				   setDesc, 
				   isSpecial 
			from setmenu 
			where categoryNo=4
		]]>
	</select>
	
	<!-- 세트메뉴가 있는지 없는지 있다면 몇개가 있는지 카운트해줌 -->
	<select id="setOrSingle" resultType="int" parameterType="int">
		<![CDATA[
			select count(*) from useMenu where menuNo=#{menuNo}
		]]>
	</select>
	
</mapper>